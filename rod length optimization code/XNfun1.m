function f=fun1(x)%目标函数文件
pjy = zeros(1,24); % 创建一个长度为10的数组，用于存储循环结果
pjx= zeros(1,24);
for i=1:24
E1=x(1).*cosd(x(6))-x(2).*cosd(x(7)+15.*(i-1));%文献式7
E2=x(1).*sind(x(6))-x(2).*sind(x(7)+15.*(i-1));
E3=(E1.*E1+E2.*E2+x(4).*x(4)-x(3).*x(3))./(2.*x(4));
k=2.*atand((E2-(E1.*E1+E2.*E2-E3.*E3).^(0.5))./(E3-E1));%k=ψj k的计算数值存在问题需要检查一下
t=acosd((x(1).*cosd(x(6))+x(4).*cosd(k)-x(2).*cosd(x(7)+15.*(i-1)))./(x(3)));%t=θj
pjx(i)=-80+x(2).*cosd(x(7)+15.*(i-1))+x(8).*x(3).*cosd(t);
if i<=12
 pjy(i)=230+x(2).*sind(x(7)+15.*(i-1))-x(8).*x(3).*sind(t)-194; %pjy的表示存在问题，在x大于180°时
else
 pjy(i)=230-(-x(2).*sind(x(7)+15.*(i-1))-x(8).*x(3).*sind(t))-194;
end
p1=[81.28496233	76.04218268	61.19741038	38.77810267	14.55923488	-7.725050166	-27.3562339	-44.49201631	-59.17922992	-71.24442484	-80.38985406	-86.27515814	-88.5214575	-86.5904017	-79.66601361	-67.25505883	-50.05098906	-29.4834934	-7.136057481	15.39935211	36.57982689	54.9761343	69.32171484	78.48920749
];%预订轨迹坐标点的横纵坐标值
p2=[24.48206407	43.4903528	63.32387955	80.24150556	88.68286078	89.63094616	85.26853837	76.92596882	65.34135278	51.10335233	34.96186812	18.46 -10 -10	-10	-10	-10	-10	-10	-10	-10	-10	-10	-10];
pt=(pjx-p1).*(pjx-p1)+(pjy-p2).*(pjy-p2);
pj=min(sum(pt));%求优化轨迹和预订轨迹横纵坐标最小方差
f=pj;

end
plot(p1,p2)
hold on
plot(pjx,pjy)









